<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sun Island Bali | AI Opportunity Score Report</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* A more refined animation for sections appearing on scroll */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .chart-container { position: relative; height: 100%; width: 100%; }
        #progress-bar-container { background-color: #e5e7eb; border-radius: 9999px; cursor: pointer; padding: 2px; }
        #progress-bar { height: 8px; background-color: #EB6841; border-radius: 9999px; width: 0%; transition: width 0.1s linear; }
    </style>
</head>
<body class="bg-slate-50 text-slate-700 font-sans">
    <main class="max-w-7xl mx-auto p-4 md:p-8">
        <header class="relative mb-12 rounded-lg overflow-hidden shadow-lg animate-on-scroll">
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-black/20"></div>
            <img src="https://images.unsplash.com/photo-1537996194471-e657df975ab4?q=80&w=2538&auto=format&fit=crop" alt="Sun Island Bali Resort" class="w-full h-64 md:h-80 object-cover">
            <div class="absolute inset-0 flex flex-col items-center justify-center text-center px-4">
                <h1 class="text-4xl md:text-6xl font-extrabold text-white drop-shadow-2xl mb-2">AI Opportunity Score Report</h1>
                <p class="text-2xl md:text-3xl font-semibold text-white drop-shadow-lg">Sun Island Bali</p>
            </div>
        </header>

        <section id="audio-summary" class="mb-12 max-w-2xl mx-auto animate-on-scroll" style="transition-delay: 100ms;">
            <div id="audio-player-container" class="w-full flex items-center gap-3 bg-white p-3 rounded-lg shadow-md">
                <button id="play-pause-btn" class="bg-[#EB6841] text-white rounded-full w-10 h-10 flex-shrink-0 flex items-center justify-center text-xl hover:bg-[#CC333F] transition-colors duration-300 focus:outline-none">▶</button>
                <div class="w-full">
                    <div class="text-xs text-slate-500 mb-1">Listen to your report summary</div>
                    <div id="progress-bar-container">
                        <div id="progress-bar"></div>
                    </div>
                </div>
                <div id="time-display" class="text-xs text-slate-500 font-mono w-20 text-right">0:00 / 0:00</div>
            </div>
        </section>

        <section id="executive-summary" class="mb-16 animate-on-scroll" style="transition-delay: 200ms;">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
                <div class="bg-white rounded-lg shadow-xl p-8 flex flex-col justify-center items-center text-center h-full">
                    <p class="text-lg font-semibold text-slate-500 mb-2">AI Opportunity Score</p>
                    <p class="score-counter text-8xl font-black text-[#CC333F]" data-target="70">0</p>
                    <p class="text-lg font-semibold text-slate-500 mt-2">out of 100</p>
                    <div class="mt-4 w-full bg-gray-200 rounded-full h-4">
                        <div class="progress-bar-animated bg-gradient-to-r from-[#EDC951] to-[#EB6841] h-4 rounded-full" style="width: 0%" data-width="70"></div>
                    </div>
                    <p class="mt-4 text-sm text-slate-600">You're doing pretty good! This report shows some clear and easy ways to improve with new tech.</p>
                </div>
                <div class="lg:col-span-2 bg-white rounded-lg shadow-xl p-6">
                    <h3 class="text-xl font-bold text-center mb-4 text-[#6A4A3C]">Where Your Score Comes From</h3>
                    <p class="text-center text-sm text-slate-600 mb-4">This chart shows how much each area affects your total score. The areas with the biggest slices have the most impact.</p>
                    <div class="chart-container h-80 md:h-96">
                        <canvas id="scoreCompositionChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="dimensional-scoring" class="mb-16 animate-on-scroll">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#6A4A3C]">Your Scores in Each Area</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white rounded-lg shadow-xl p-6">
                    <h3 class="text-xl font-bold text-center mb-4 text-[#6A4A3C]">Your Strengths at a Glance</h3>
                    <p class="text-center text-sm text-slate-600 mb-4">This chart gives a quick look at all your scores. It shows you're doing well but could improve how you use customer info.</p>
                    <div class="chart-container h-80 md:h-96">
                        <canvas id="dimensionalRadarChart"></canvas>
                    </div>
                </div>
                <div class="bg-white rounded-lg shadow-xl p-6">
                    <h3 class="text-xl font-bold text-center mb-4 text-[#6A4A3C]">Your Scores, Ranked</h3>
                    <p class="text-center text-sm text-slate-600 mb-4">This chart ranks your scores from highest to lowest. It clearly shows that using customer data is the biggest opportunity for you.</p>
                    <div class="chart-container h-80 md:h-96">
                        <canvas id="dimensionalBarChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6">
                <div class="bg-white rounded-lg shadow-md p-6 group hover:shadow-xl transition-shadow duration-300 animate-on-scroll">
                    <h4 class="font-bold text-lg text-[#00A0B0]">Website Tech</h4>
                    <p class="text-3xl font-black text-slate-800 my-2"><span class="score-counter" data-target="76">0</span> <span class="text-lg font-semibold text-slate-500">/ 100</span></p>
                    <p class="text-sm text-slate-600">Your website is fast and secure. This is a great foundation for adding new tools.</p>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 group hover:shadow-xl transition-shadow duration-300 animate-on-scroll" style="transition-delay: 100ms;">
                    <h4 class="font-bold text-lg text-[#00A0B0]">How You Do Business</h4>
                    <p class="text-3xl font-black text-slate-800 my-2"><span class="score-counter" data-target="74">0</span> <span class="text-lg font-semibold text-slate-500">/ 100</span></p>
                    <p class="text-sm text-slate-600">Your online booking system is a major strength and shows your business runs well.</p>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 group hover:shadow-xl transition-shadow duration-300 animate-on-scroll" style="transition-delay: 200ms;">
                    <h4 class="font-bold text-lg text-[#00A0B0]">Customer Experience</h4>
                    <p class="text-3xl font-black text-slate-800 my-2"><span class="score-counter" data-target="71">0</span> <span class="text-lg font-semibold text-slate-500">/ 100</span></p>
                    <p class="text-sm text-slate-600">Your site looks good and is easy to use, but doesn't yet offer personalized deals to visitors.</p>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 group hover:shadow-xl transition-shadow duration-300 animate-on-scroll" style="transition-delay: 300ms;">
                    <h4 class="font-bold text-lg text-[#EB6841]">Keeping Info Updated</h4>
                    <p class="text-3xl font-black text-slate-800 my-2"><span class="score-counter" data-target="65">0</span> <span class="text-lg font-semibold text-slate-500">/ 100</span></p>
                    <p class="text-sm text-slate-600">Your main info is current, but your blog isn't updated regularly. New tech could help with this.</p>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 group hover:shadow-xl transition-shadow duration-300 animate-on-scroll" style="transition-delay: 400ms;">
                    <h4 class="font-bold text-lg text-[#CC333F]">Using Customer Data</h4>
                    <p class="text-3xl font-black text-slate-800 my-2"><span class="score-counter" data-target="56">0</span> <span class="text-lg font-semibold text-slate-500">/ 100</span></p>
                    <p class="text-sm text-slate-600">This is your biggest opportunity. You collect customer info but aren't using it to improve your business yet.</p>
                </div>
            </div>
        </section>

        <section id="recommendations" class="mb-16 animate-on-scroll">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#6A4A3C]">Top 3 Things To Fix</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-white rounded-lg shadow-xl p-8 text-center border-t-4 border-[#CC333F] group hover:scale-105 transition-transform duration-300">
                    <div class="text-4xl mb-4 group-hover:scale-125 transition-transform duration-300">📈</div>
                    <h3 class="text-xl font-bold mb-2 text-slate-800">1. Smart Pricing</h3>
                    <p class="text-slate-600 mb-4">Automatically change room prices based on how busy you are. This helps you make more money when demand is high.</p>
                    <div class="bg-red-100 text-[#CC333F] text-lg font-bold p-2 rounded-md">Do This First</div>
                </div>
                <div class="bg-white rounded-lg shadow-xl p-8 text-center border-t-4 border-[#EB6841] group hover:scale-105 transition-transform duration-300">
                    <div class="text-4xl mb-4 group-hover:scale-125 transition-transform duration-300">🤖</div>
                    <h3 class="text-xl font-bold mb-2 text-slate-800">2. Chat Helper</h3>
                    <p class="text-slate-600 mb-4">Add a 24/7 robot helper to your site to answer common questions and help customers book rooms faster.</p>
                    <div class="bg-orange-100 text-[#EB6841] text-lg font-bold p-2 rounded-md">Do This Soon</div>
                </div>
                <div class="bg-white rounded-lg shadow-xl p-8 text-center border-t-4 border-[#EDC951] group hover:scale-105 transition-transform duration-300">
                    <div class="text-4xl mb-4 group-hover:scale-125 transition-transform duration-300">🎯</div>
                    <h3 class="text-xl font-bold mb-2 text-slate-800">3. Show Relevant Offers</h3>
                    <p class="text-slate-600 mb-4">Show different deals to different visitors. Families see family packages; couples see romantic getaways.</p>
                    <div class="bg-yellow-100 text-[#6A4A3C] text-lg font-bold p-2 rounded-md">Nice To Have</div>
                </div>
            </div>
        </section>

        <section id="video-walkthrough" class="mb-16 animate-on-scroll">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#6A4A3C]">Video Walkthrough</h2>
            <div class="bg-slate-800 rounded-lg shadow-xl aspect-video w-full max-w-4xl mx-auto overflow-hidden">
                <video controls class="w-full h-full">
                    <source src="assets/video/video.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </section>

        <section id="downloads" class="mb-16 animate-on-scroll">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#6A4A3C]">Downloads & Resources</h2>
            <div class="flex flex-col md:flex-row items-center justify-center gap-4">
                <a href="assets/sun-island-bali.zip" download class="bg-[#EB6841] text-white font-bold py-3 px-6 rounded-lg text-center hover:bg-[#CC333F] transition duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                    📥 Download All (.zip)
                </a>
                <a href="https://notebooklm.google.com/notebook/b0ad92c4-355b-47cf-96c9-c57cb81c20f1" target="_blank" rel="noopener noreferrer" class="bg-slate-700 text-white font-bold py-3 px-6 rounded-lg text-center hover:bg-slate-800 transition duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                    📓 Access Interactive Notebook
                </a>
            </div>
        </section>

        <footer class="text-center text-sm text-slate-500 pt-8 border-t animate-on-scroll">
            <p>This report was generated automatically by Good AI for Sun Island Bali.</p>
        </footer>

    </main>

    <!-- Chatbot Container -->
    <div id="chatbot-container" class="fixed bottom-6 right-6 z-50">
        <!-- Chatbot Toggle Button -->
        <button id="chatbot-toggle" class="bg-[#00A0B0] text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg hover:bg-[#008090] transition-all duration-300 focus:outline-none">
            <span id="chatbot-icon-open">💬</span>
            <span id="chatbot-icon-close" class="hidden">✕</span>
        </button>
        
        <!-- Chatbot Window -->
        <div id="chatbot-window" class="hidden absolute bottom-20 right-0 w-80 h-96 bg-white rounded-lg shadow-xl flex flex-col border border-gray-200">
            <div class="bg-[#00A0B0] text-white p-4 rounded-t-lg flex justify-between items-center">
                <h3 class="font-bold">Sun Island Assistant</h3>
                <button id="chatbot-close" class="text-white hover:text-gray-200">
                    ✕
                </button>
            </div>
            <div id="chatbot-messages" class="flex-1 p-4 overflow-y-auto bg-gray-50">
                <div class="mb-3">
                    <div class="inline-block bg-[#00A0B0] text-white rounded-lg p-3 max-w-xs">
                        Hello! I'm your Sun Island Bali assistant. How can I help you today?
                    </div>
                </div>
            </div>
            <div class="p-4 border-t border-gray-200">
                <div class="flex">
                    <input type="text" id="chatbot-input" placeholder="Ask about Sun Island Bali..." class="flex-1 border border-gray-300 rounded-l-lg p-2 focus:outline-none focus:ring-1 focus:ring-[#00A0B0]">
                    <button id="chatbot-send" class="bg-[#00A0B0] text-white rounded-r-lg px-4 hover:bg-[#008090] transition-colors">
                        Send
                    </button>
                </div>
            </div>
        </div>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        
        // --- INTERSECTION OBSERVER FOR SCROLL ANIMATIONS ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    
                    const counters = entry.target.querySelectorAll('.score-counter');
                    counters.forEach(counter => animateCounter(counter));

                    const progressBars = entry.target.querySelectorAll('.progress-bar-animated');
                    progressBars.forEach(bar => {
                        bar.style.width = bar.dataset.width + '%';
                        bar.style.transition = 'width 1.5s ease-in-out';
                    });
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.animate-on-scroll').forEach(section => observer.observe(section));

        // --- SCORE COUNTER ANIMATION ---
        const animateCounter = (counter) => {
            const target = +counter.dataset.target;
            if (counter.animated) return;
            counter.animated = true;
            let current = 0;
            const increment = target / 100;
            const updateCounter = () => {
                current += increment;
                if (current < target) {
                    counter.innerText = Math.ceil(current);
                    requestAnimationFrame(updateCounter);
                } else {
                    counter.innerText = target;
                }
            };
            updateCounter();
        };

        // --- CHART.JS CONFIGURATION ---
        const chartColors = ['#00A0B0', '#6A4A3C', '#CC333F', '#EB6841', '#EDC951'];
        Chart.defaults.font.family = 'sans-serif';

        const scoreCompositionCtx = document.getElementById('scoreCompositionChart').getContext('2d');
        new Chart(scoreCompositionCtx, {
            type: 'doughnut',
            data: {
                labels: ['Customer Exp.', 'How You Do Business', 'Using Customer Data', 'Keeping Info Updated', 'Website Tech'],
                datasets: [{
                    label: 'Score Contribution',
                    data: [24.85, 22.2, 5.6, 9.75, 7.6],
                    backgroundColor: chartColors,
                    borderColor: '#FFFFFF',
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false, cutout: '60%',
                plugins: { legend: { position: 'bottom' } },
                animation: { duration: 1500, easing: 'easeOutQuart' }
            }
        });

        const dimensionalRadarCtx = document.getElementById('dimensionalRadarChart').getContext('2d');
        new Chart(dimensionalRadarCtx, {
            type: 'radar',
            data: {
                labels: ['Customer Exp.', 'How You Do Business', 'Keeping Info Updated', 'Using Customer Data', 'Website Tech'],
                datasets: [{
                    label: 'Your Score',
                    data: [71, 74, 65, 56, 76],
                    backgroundColor: 'rgba(235, 104, 65, 0.2)',
                    borderColor: '#EB6841',
                    pointBackgroundColor: '#EB6841',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: { r: { beginAtZero: true, suggestedMax: 100, pointLabels: { font: { size: 11 } } } },
                animation: { duration: 1500, easing: 'easeOutQuart' }
            }
        });
        
        const dimensionalBarCtx = document.getElementById('dimensionalBarChart').getContext('2d');
        new Chart(dimensionalBarCtx, {
            type: 'bar',
            data: {
                labels: ['Website Tech', 'How You Do Business', 'Customer Exp.', 'Keeping Info Updated', 'Using Customer Data'],
                datasets: [{
                    label: 'Score',
                    data: [76, 74, 71, 65, 56],
                    backgroundColor: ['#00A0B0', '#00A0B0', '#00A0B0', '#EB6841', '#CC333F'],
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                scales: { x: { beginAtZero: true, suggestedMax: 100, grid: { display: false } }, y: { grid: { display: false } } },
                plugins: { legend: { display: false } },
                animation: { duration: 1500, easing: 'easeOutQuart', delay: 200 }
            }
        });

        // --- CUSTOM AUDIO PLAYER ---
        const audioElement = new Audio('assets/audio/audio.mp3');
        const playPauseBtn = document.getElementById('play-pause-btn');
        const progressBar = document.getElementById('progress-bar');
        const progressBarContainer = document.getElementById('progress-bar-container');
        const timeDisplay = document.getElementById('time-display');
        
        const formatTime = (s) => (s = Math.floor(s), `${Math.floor(s/60)}:${('0'+s%60).slice(-2)}`);
        
        audioElement.addEventListener('loadedmetadata', () => {
            timeDisplay.textContent = `0:00 / ${formatTime(audioElement.duration)}`;
        });
        
        playPauseBtn.addEventListener('click', () => {
            if (audioElement.paused) {
                audioElement.play();
                playPauseBtn.innerHTML = '❚❚';
            } else {
                audioElement.pause();
                playPauseBtn.innerHTML = '▶';
            }
        });

        audioElement.addEventListener('timeupdate', () => {
            progressBar.style.width = `${(audioElement.currentTime / audioElement.duration) * 100}%`;
            timeDisplay.textContent = `${formatTime(audioElement.currentTime)} / ${formatTime(audioElement.duration)}`;
        });

        progressBarContainer.addEventListener('click', (e) => {
            const rect = progressBarContainer.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            audioElement.currentTime = (clickX / rect.width) * audioElement.duration;
        });

        // --- CHARTBOT FUNCTIONALITY ---
        const chatbotToggle = document.getElementById('chatbot-toggle');
        const chatbotWindow = document.getElementById('chatbot-window');
        const chatbotClose = document.getElementById('chatbot-close');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotSend = document.getElementById('chatbot-send');
        const chatbotMessages = document.getElementById('chatbot-messages');
        const chatbotIconOpen = document.getElementById('chatbot-icon-open');
        const chatbotIconClose = document.getElementById('chatbot-icon-close');

        // Toggle chatbot visibility
        chatbotToggle.addEventListener('click', function() {
            chatbotWindow.classList.toggle('hidden');
            chatbotIconOpen.classList.toggle('hidden');
            chatbotIconClose.classList.toggle('hidden');
        });

        // Close chatbot
        chatbotClose.addEventListener('click', function() {
            chatbotWindow.classList.add('hidden');
            chatbotIconOpen.classList.remove('hidden');
            chatbotIconClose.classList.add('hidden');
        });

        // Send message function
        function sendMessage() {
            const message = chatbotInput.value.trim();
            if (message) {
                // Add user message
                addMessage(message, 'user');
                chatbotInput.value = '';
                
                // Simulate bot thinking
                setTimeout(() => {
                    const response = getBotResponse(message);
                    addMessage(response, 'bot');
                }, 500);
            }
        }

        // Add message to chat
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'mb-3';
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="flex justify-end">
                        <div class="inline-block bg-[#00A0B0] text-white rounded-lg p-3 max-w-xs">
                            ${text}
                        </div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="inline-block bg-white border border-gray-200 rounded-lg p-3 max-w-xs">
                        ${text}
                    </div>
                `;
            }
            
            chatbotMessages.appendChild(messageDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        // Get bot response based on user input
        function getBotResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Knowledge base responses based on the content of your site
            if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
                return "Hello! Welcome to Sun Island Bali. How can I assist you today?";
            } else if (lowerMessage.includes('score') || lowerMessage.includes('rating')) {
                return "Sun Island Bali has an overall AI opportunity score of 70 out of 100. This indicates good foundational technology with clear opportunities for improvement, particularly in using customer data.";
            } else if (lowerMessage.includes('customer') && lowerMessage.includes('data')) {
                return "Using customer data is identified as your biggest opportunity area with a score of 56/100. Implementing systems to personalize offers and improve customer experience could significantly boost your performance.";
            } else if (lowerMessage.includes('recommend') || lowerMessage.includes('improve')) {
                return "The top 3 recommendations are: 1) Smart pricing based on demand, 2) Adding a 24/7 chat assistant (like me!), and 3) Showing relevant offers to different visitor types.";
            } else if (lowerMessage.includes('website') || lowerMessage.includes('tech')) {
                return "Your website technology scores 76/100 which is quite good. It's fast and secure, providing a solid foundation for adding new tools and features.";
            } else if (lowerMessage.includes('booking') || lowerMessage.includes('business')) {
                return "Your online booking system is a major strength with a score of 74/100, showing that your business operations are running well.";
            } else if (lowerMessage.includes('thank')) {
                return "You're welcome! Is there anything else I can help you with regarding Sun Island Bali?";
            } else if (lowerMessage.includes('ai') || lowerMessage.includes('follow up') || lowerMessage.includes('contact') || lowerMessage.includes('good ai')) {
                return "For more advanced AI solutions, you can follow up with good AI at hello@goodai.au";
            } else {
                // Default response when the bot doesn't know the answer
                return "For more advanced AI solutions, you can follow up with good AI at hello@goodai.au";
            }
        }

        // Event listeners for chat
        chatbotSend.addEventListener('click', sendMessage);
        
        chatbotInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Add initial bot message
        setTimeout(() => {
            addMessage("I can answer questions about your AI opportunity score report, scores in different areas, and recommendations for improvement. What would you like to know?", 'bot');
        }, 1000);
        
        // Add follow-up message after a delay
        setTimeout(() => {
            addMessage("For more advanced AI solutions, you can follow up with good AI at hello@goodai.au", 'bot');
        }, 3000);
    });
    </script>
</body>
</html>